<!--
  Generated template for the MedicalCarePage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header header-bg>
  <ion-navbar hideBackButton>
    <ion-title text-center>Medical Care and Medications</ion-title>
    <button ion-button menuToggle="Sidemenu" color="light" icon-only start style="display: block !important;">
      <ion-icon name='menu'></ion-icon>
    </button>
    <ion-buttons end>
      <button ion-button icon-only class="header-logo" (click)="navigateToHome($event)">
        <img src="assets/header_icon.png" />
      </button>
    </ion-buttons>
  </ion-navbar>
</ion-header>

<ion-content padding>

  <p>
    Complete the following medical care form for supporters to reference in a crisis.
  </p>
  <p><strong>Doctor</strong></p>

  <ion-list *ngFor="let item of doctorItems;let i = index;let last=last">
    <ion-item class="daily-maintenance-list">
      <ion-label>Name</ion-label>
      <ion-input [style.opacity]="(!last || isAddDoc) ? 0.4 : 1" type="text" value={{item.DoctorName}} (ionFocus)="ToggleMultiInput($event);"
        (ionBlur)="ToggleMultiUpdate($event,'AddDoc','DoctorName',item.Id);" placeholder="Enter Name"></ion-input>
    </ion-item>
    <ion-item class="daily-maintenance-list">
      <ion-label>Phone</ion-label>
      <ion-input [style.opacity]="(!last || isAddDoc) ? 0.4 : 1" type="tel" maxlength="10" value={{item.DoctorPhone}}
        (ionFocus)="ToggleMultiInput($event);" (ionBlur)="ToggleMultiUpdate($event,'AddDoc','DoctorPhone',item.Id);"
        placeholder="Enter Number"></ion-input>
    </ion-item>
    <ion-item class="daily-maintenance-list">
      <ion-label>Speciality</ion-label>
      <ion-input [style.opacity]="(!last || isAddDoc) ? 0.4 : 1" type="text" value={{item.DoctorSpeciality}} (ionFocus)="ToggleMultiInput($event);"
        (ionBlur)="ToggleMultiUpdate($event,'AddDoc','DoctorSpeciality',item.Id);" placeholder="Enter Speciality"></ion-input>
    </ion-item>
    <ion-item class="add-item-btn">
      <button ion-button small clear color="primary" id="doctorRemove" (click)="DeleteMultiList('AddDoc',item.Id);">
        <ion-icon name="remove"></ion-icon>&nbsp;Remove
      </button>
    </ion-item>
  </ion-list>
  <ion-item class="add-item-btn">
    <button ion-button small clear id="doctorAdd" color="primary" (click)="AddMultiListItem('AddDoc');">
      <ion-icon name="add"></ion-icon>&nbsp;Add Item
    </button>
  </ion-item>

  <p><strong>Counselor/Sponsor/Case Manager</strong></p>
  <ion-list *ngFor="let item of caseItems;let i = index;let last=last">
    <ion-item class="daily-maintenance-list">
      <ion-label>Name</ion-label>
      <ion-input [style.opacity]="(!last || isAddCase) ? 0.4 : 1" type="text" value={{item.CaseName}} (ionFocus)="ToggleMultiInput($event);"
        (ionBlur)="ToggleMultiUpdate($event,'AddCase','CaseName',item.Id);">
      </ion-input>
    </ion-item>
    <ion-item class="daily-maintenance-list">
      <ion-label>Phone</ion-label>
      <ion-input [style.opacity]="(!last || isAddCase) ? 0.4 : 1" type="tel" maxlength="10" value={{item.CasePhone}} (ionFocus)="ToggleMultiInput($event);"
        (ionBlur)="ToggleMultiUpdate($event,'AddCase','CasePhone',item.Id);">
      </ion-input>
    </ion-item>
    <ion-item class="add-item-btn">
      <button ion-button small clear color="primary" (click)="DeleteMultiList('AddCase',item.Id);">
        <ion-icon name="remove"></ion-icon>&nbsp;Remove
      </button>
    </ion-item>
  </ion-list>
  <ion-item class="add-item-btn">
    <button ion-button small clear color="primary" (click)="AddMultiListItem('AddCase');">
      <ion-icon name="add"></ion-icon>&nbsp;Add Item
    </button>
  </ion-item>
  <p><strong>Pharmacy</strong></p>

  <ion-list [formGroup]="DoctorForm">
    <ion-item class="daily-maintenance-list">
      <ion-label>Name</ion-label>
      <ion-input type="text" [style.opacity]="0.4" (ionFocus)="ToggleMultiInput($event);" formControlName="PharmacyName"
        id="PharmacyName" (ionBlur)="UpdateItem($event)" placeholder="Enter Name"></ion-input>
    </ion-item>
    <ion-item class="daily-maintenance-list">
      <ion-label>Phone</ion-label>
      <ion-input type="tel" [style.opacity]="0.4" (ionFocus)="ToggleMultiInput($event);" maxlength="10"
        formControlName="PharmacyPhone" id="PharmacyPhone" (ionBlur)="UpdateItem($event)" placeholder="Enter Number"></ion-input>
    </ion-item>
  </ion-list>

  <p><strong>Current Medications</strong></p>
  <ion-list *ngFor="let item of mediItems;let i = index;let last=last">
    <ion-item class="daily-maintenance-list">
      <ion-label>Name</ion-label>
      <ion-input [style.opacity]="(!last || isAddMedi) ? 0.4 : 1" type="text" value={{item.MediName}} (ionFocus)="ToggleMultiInput($event);"
        (ionBlur)="ToggleMultiUpdate($event,'AddMedi','MediName',item.Id);" placeholder="Enter Name"></ion-input>
    </ion-item>
    <ion-item class="daily-maintenance-list">
      <ion-label>Dosage</ion-label>
      <ion-input [style.opacity]="(!last || isAddMedi) ? 0.4 : 1" type="text" value={{item.MediDosage}} (ionFocus)="ToggleMultiInput($event);"
        (ionBlur)="ToggleMultiUpdate($event,'AddMedi','MediDosage',item.Id);" placeholder="Enter Dosage"></ion-input>
    </ion-item>
    <ion-item class="daily-maintenance-list">
      <ion-label>When Taken</ion-label>
      <ion-input [style.opacity]="(!last || isAddMedi) ? 0.4 : 1" type="text" value={{item.MediWhen}} (ionFocus)="ToggleMultiInput($event);"
        (ionBlur)="ToggleMultiUpdate($event,'AddMedi','MediWhen',item.Id);" placeholder="Enter When Taken"></ion-input>
    </ion-item>
    <ion-item class="add-item-btn">
      <button ion-button small clear color="primary" id="MediRemove" (click)="DeleteMultiList('AddMedi',item.Id);">
        <ion-icon name="remove"></ion-icon>&nbsp;Remove
      </button>
    </ion-item>
  </ion-list>
  <ion-item class="add-item-btn">
    <button ion-button small clear color="primary" id="CurrentMedi" (click)="AddMultiListItem('AddMedi');">
      <ion-icon name="add"></ion-icon>&nbsp;Add Item
    </button>
  </ion-item>

  <p><strong>Acceptable Medications</strong></p>
  <ion-list>
    <ion-item class="daily-maintenance-list" *ngFor="let item of acceptItems;let index = index;trackBy:trackByIndex;">
      <inline-form text-wrap [(ngModel)]="acceptItems[index].Content" Id={{acceptItems[index].Id}} ColumnName="6"
        PageType="12" [required]="true" type="text">
      </inline-form>
      <ion-icon name="close" color="header" item-end (click)="deleteSingleItem(item.Id,'AcceptableMedi')"></ion-icon>
    </ion-item>
  </ion-list>
  <ion-list [formGroup]="DoctorForm">
    <ion-item class="daily-maintenance-list" *ngIf="isAccMedi">
      <ion-input type="text" formControlName="AcceptMedi" (ionBlur)="InsertSingleList('AcceptableMedi')" placeholder="Enter your text"></ion-input>
      <ion-icon name="close" color="header" item-end id="DeleteAccMedi" (click)="deleteSingleItem('AcceptableMedi')"></ion-icon>
    </ion-item>
    <ion-item class="add-item-btn">
      <button ion-button small clear color="primary" id="AcceptableMedi" (click)="ToggleSingleInput('AcceptableMedi')">
        <ion-icon name="add"></ion-icon>&nbsp;Add Item
      </button>
    </ion-item>
  </ion-list>

  <p><strong>Medications to Avoid</strong></p>
  <ion-list>
    <ion-item class="daily-maintenance-list" *ngFor="let item of avoidItems;let index = index;trackBy:trackByIndex;">
      <inline-form text-wrap [(ngModel)]="avoidItems[index].Content" Id={{avoidItems[index].Id}} ColumnName="7"
        PageType="12" [required]="true" type="text">
      </inline-form>
      <ion-icon name="close" color="header" item-end (click)="deleteSingleItem(item.Id,'AvoidMedi')"></ion-icon>
    </ion-item>
  </ion-list>
  <ion-list [formGroup]="DoctorForm">
    <ion-item class="daily-maintenance-list" *ngIf="isAvoidMedi">
      <ion-input type="text" formControlName="AvoidMedi" (ionBlur)="InsertSingleList('AvoidMedi')" placeholder="Enter your text"></ion-input>
      <ion-icon name="close" color="header" item-end id="DeleteAvoid" (click)="deleteSingleItem('AvoidMedi')"></ion-icon>
    </ion-item>
    <ion-item class="add-item-btn">
      <button ion-button small clear color="primary" id="AvoidMedi" (click)="ToggleSingleInput('AvoidMedi')">
        <ion-icon name="add"></ion-icon>&nbsp;Add Item
      </button>
    </ion-item>
  </ion-list>

  <p><strong>Allergies</strong></p>
  <ion-list>
    <ion-item class="daily-maintenance-list" *ngFor="let item of allergyItems;let index = index;trackBy:trackByIndex;">
      <inline-form text-wrap [(ngModel)]="allergyItems[index].Content" Id={{allergyItems[index].Id}} ColumnName="5"
        PageType="12" [required]="true" type="text">
      </inline-form>
      <ion-icon name="close" color="header" item-end (click)="deleteSingleItem(item.Id,'Allergy')"></ion-icon>
    </ion-item>
  </ion-list>
  <ion-list [formGroup]="DoctorForm">
    <ion-item class="daily-maintenance-list" *ngIf="isAllergy">
      <ion-input type="text" formControlName="Allergy" (ionBlur)="InsertSingleList('Allergy')" placeholder="Enter your text"></ion-input>
      <ion-icon name="close" color="header" item-end id="DeleteAllergy" (click)="deleteSingleItem('Allergy')"></ion-icon>
    </ion-item>
    <ion-item class="add-item-btn">
      <button ion-button small clear color="header" id="Allergies" (click)="ToggleSingleInput('Allergies')">
        <ion-icon name="add"></ion-icon>&nbsp;Add Item
      </button>
    </ion-item>
    <p style="text-align: center">
        <button class="btn-save-yellow" ion-button color="primary" round (click)="sendpage()">Send Page</button>
      </p>
  </ion-list>

  <ion-list>
    <ion-item class="page-slider">
      <ion-icon item-start large name="arrow-dropleft-circle" (click)="navigateleft()"></ion-icon>
      <ion-icon item-end large name="arrow-dropright-circle" (click)="navigateright()"></ion-icon>
    </ion-item>
  </ion-list>

</ion-content>